<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Destiny</title>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,600italic' rel='stylesheet' type='text/css'>
<link type="text/css" rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container" id="container">
	<div id="learnMore">
		<a href="#">
			<img src="images/small_hashTag.png">
		</a>
	</div>
	<div id="enter">
		<img src="images/enter.png" id="enterFor">	
	</div>


	<div id="prize"><img src="images/home_tag.png"></div>
	
	<div id="extra"><img src="images/extra.png"></div>


	 <div id="tweet">
		<img src="images/tweet.png">
	</div>
	<div id="heroFrame">

		<img src="images/hashtag.png" id="hashtag">
		
	</div>
	<div id="finalFrame">
		<img src="images/ps4logo.png" id='ps4logo'>
		<img src="images/greatness.png" id="greatness">
		<img src="images/bundlesweeps.png" id='bundlesweeps'>
		<a href="#" id="lrnBtn">
			<img src="images/learnBtn.png" >
		</a>
	</div> 
	<div id="wave">
		<img src="images/wave1.png">
	</div>
	<div id="click_to_expand">
		<img src="images/click_to_expand.png">
	</div>
</div>
<div id="containerExWrap">
<div class="containerEx" id="containerEx">

<div id="close"><img src="images/close.png"></div>

	<div id="learnMoreEx">
		<a href="#">
			<img src="images/learnMore.png">
		</a>
	</div>
	<div id="enterEx">
		<img src="images/enterEx.png" id="enterForEx">	
	</div>
	
	<div id="prizeEx"><img src="images/home_tagEx.png"></div>


	 <div id="tweetEx">
		<img src="images/tweetEx.png">
	</div>
	<div id="heroFrameEx">
		<div id="herosEx">
			<img src="images/herosbgEx.jpg" id='herosbgEx'>
		</div>
		<img src="images/hashtagEx.png" id="hashtagEx">
		
	</div>
	<div id="finalFrameEx">
		<img src="images/ps4logoEx.png" id='ps4logoEx'>
		<img src="images/greatnessEx.png" id="greatnessEx">
		<img src="images/bundlesweeps.png" id='bundlesweepsEx'>
		<a href="#" id="lrnBtnEx">
			<img src="images/learnBtn.png" >
		</a>
	</div> 
	<div id="waveEx">
		<img src="images/wave1.png">
	</div>
	<div id="logoEx">
		<img src="images/destinylogoEx.png">
	</div>
	<div id="vidHolder"></div>
</div>
</div>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.11.4/plugins/CSSPlugin.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.11.4/TweenLite.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.11.4/easing/EasePack.min.js"></script>
<script type="text/javascript" src="http://cdn.flashtalking.com/frameworks/js/api/2/8/html5API.js"></script>
<script type="text/javascript" src="manifest.js"></script>
<script type="text/javascript" src="Animation.js"></script>
<script type="text/javascript">

function isPlaying(){
		console.log("it's playing");
	};

	var myFT = new FT,
	unexpanded = FT.query("#container"),
	expanded = FT.query("#containerEx"),
	vidHolder = FT.query("#vidHolder"),
	close = FT.query("#close"),
	containerExWrapHolder = FT.query("#containerExWrap"),
	click_to_expand_btn = FT.query("#click_to_expand"),
	vid = myFT.insertVideo({
		parent: vidHolder,
		video: "video1",
		controls: true,
		width: "670",
		height: "418",
		muted: true
	}),
	
	expand = function(){
		unexpanded.style.display = "none";
		expanded.style.display = "block";
		containerExWrapHolder.style.opacity = "1";
		myFT.expand();
		vid.play();
		home_animation();
		 vid.unmute();
		// vid.video.play();
		console.log('expand');
	},
	onAutoExpand = function(){
		unexpanded.style.display = "none";
		expanded.style.display = "block";
		myFT.expand();
		vid.video.addEventListener('play', isPlaying);
		
		//vid.mute();
		vid.play();

		//console.log(vid.video.currentTime);
		//vid.muted = true;
	},
	contract = function(e){
		expanded.style.display = "none";
		unexpanded.style.display = "block";
		unexpanded.style.opacity = "1";
		containerExWrapHolder.style.opacity = "0";
		// vid.video.pause();
		//if(e && e.type) {
			home_animation2();
    	myFT.contract();
    	vid.pause();
    //}
	};
	
	myFT.applyButton(close, function(){myFT.contract()});
	myFT.applyButton(click_to_expand_btn, function(){expand()});

	

	// vid.video.muted = true;
	//myFT.addEventListener('contract', contract);
	
	myFT.applyButton(unexpanded, expand);
	myFT.applyClickTag(expanded);
	 myFT.applyButton(close, function(){contract()});
	// setTimeout(function(){ myFT.expand(); }, 15000);
	setTimeout(onAutoExpand, 500);
	 setTimeout(contract, 15000);
	myFT.addEventListener("instantads", function(){
		myFT.videos.video1 = myFT.instantAds.youtubeTextVariable		
	});

</script>
</body>
</html>
